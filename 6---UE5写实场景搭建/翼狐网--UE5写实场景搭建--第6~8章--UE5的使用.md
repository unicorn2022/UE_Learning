# 目录

[TOC]

<div STYLE="page-break-after: always;"></div>

# 第六章	UE5节点上手

## 课时20	基础节点

### 20.1	材质节点的属性

<img src="AssetMarkdown/image-20220819122718774.png" alt="image-20220819122718774" style="zoom:80%;" />

1.   **高光度**：做水的时候会用到
2.   **各向异性**：做头发会用到
3.   **自发光颜色**：值越高，越白
4.   **切线**、**全局位置偏移**：做世界材质的时候会用到
5.   **折射**：做水的时候会用到
6.   **像素深度偏移**：做物体和地面的衔接

### 20.2	修改材质的明暗度

1.   修改颜色贴图：在基础颜色贴图的**细节|调整**中，可以修改

     <img src="AssetMarkdown/image-20220819123312980.png" alt="image-20220819123312980" style="zoom:80%;" />

### 20.3	将法线图翻转

1.   修改法线贴图：在法线贴图的**细节|纹理|高级**中，勾选**翻转绿通道**

     <img src="AssetMarkdown/image-20220819123507665.png" alt="image-20220819123507665" style="zoom:80%;" />

### 20.4	ORM贴图

1.   ORM贴图的三个通道分别对应：

     1.   R通道(O)：AO，环境光遮挡
     2.   G通道(R)：Roughness，粗糙度
     3.   B通道(M)：Metallic，金属度

2.   由于ORM贴图是每一个通道的灰度图，因此我们可以在细节中，将**sRGB**取消勾选，从而与建模中的效果相同，并且节省运算资源

     <img src="AssetMarkdown/image-20220819123908185.png" alt="image-20220819123908185" style="zoom:80%;" />

## 课时21	常用节点

### 21.1	常量/向量

1.   添加方法：

     1.   一维向量：**1+点击**
     2.   二维向量：**2+点击**
     3.   三维向量：**3+点击**，可以表示线性颜色

     <img src="AssetMarkdown/image-20220819124253373.png" alt="image-20220819124253373" style="zoom:80%;" />

### 21.2	乘法：改变明暗度

1.   添加方法：**M+点击**

2.   改变明暗度：

     1.   将基础颜色贴图与一个三维向量相乘
     2.   先将三维向量的**饱和度**(左边的柱子)设为白色
     3.   然后修改**值**(右边的柱子)，越接近白色，乘积得到的结果越亮

     <img src="AssetMarkdown/image-20220819124658248.png" alt="image-20220819124658248" style="zoom:80%;" />

### 21.3	UV平铺

1.   添加方法：**U+点击**

2.   设置UV平铺

     1.   将**TexCoord**节点与需要修改UV平铺的贴图的**UVs**相连

          <img src="AssetMarkdown/image-20220819125318093.png" alt="image-20220819125318093" style="zoom:80%;" />

     2.   修改**TexCoord**节点中的**U平铺**、**V平铺**值，即可修改对应贴图的**UV平铺的值**

          <img src="AssetMarkdown/image-20220819125330860.png" alt="image-20220819125330860" style="zoom:80%;" />

3.   一般情况下，**U平铺 == V平铺**

     1.   因此可以通过默认**TexCoord**节点与一个常数相乘的方法，只修改一个参数的值，修改贴图的**UV平铺的值**

     <img src="AssetMarkdown/image-20220819125512102.png" alt="image-20220819125512102" style="zoom:80%;" />

### 21.4	顶点色

1.   添加方法：**右键|VertexColor**

     <img src="AssetMarkdown/image-20220819130038327.png" alt="image-20220819130038327" style="zoom:67%;" />

2.   作用：为顶点着色，在做雪的时候会用到

### 21.5	将多个顶点组合到一起

1.   选中多个节点，按**C**键，添加注释，同时组合到一起

     <img src="AssetMarkdown/image-20220819130019245.png" alt="image-20220819130019245" style="zoom:80%;" />

## 课时22	顶点绘制

### 22.1	Lerp节点：线性插值节点

<img src="AssetMarkdown/image-20220819173448629.png" alt="image-20220819173448629" style="zoom:80%;" />

#### 22.1.1	节点参数说明

1.   添加方法：**L+点击**
2.   参数说明：
     1.   根据**Alpha**通道的值，输出一个介于**A**通道和**B**通道值之间的数字
          1.   当**Alpha==0**时，**output=A**
          2.   当**Alpha==1**时，**output=B**
          3.   当**0<Alpha<1**时，**A<output<B**
     2.   注意，该函数会对输入的每一个通道均进行一次线性插值
          1.   如果A、B、Alpha均为RGB，则输出的R、G、B通道会分别根据Alpha的R、G、B通道的值，进行线性插值
     3.   **输出**：连接到**基础颜色**上

### 22.2	2种颜色的顶点绘制

1.   参数说明

     1.   **A**通道对应**Alpha**为0时的颜色，即黑色对应的颜色
     2.   **B**通道对应**Alpha**为1时的颜色，即白色对应的颜色
     3.   通过**Vertex Color**的**R**通道，控制**Alpha**的值

     <img src="AssetMarkdown/image-20220819174915053.png" alt="image-20220819174915053" style="zoom:80%;" />

2.   将这个材质球放到一个平面上，此时由于**Vertex Color**的值默认为1，因此显示的是B通道的颜色，即黄色

3.   在左上角的**选择模式**中，切换到**网格体绘制模式**，并选择**绘制**

     <img src="AssetMarkdown/image-20220819175704112.png" alt="image-20220819175704112" style="zoom:80%;" />

4.   笔刷的属性设置：

     1.   由于是用**Vertex Color**的**R**通道控制颜色，因此笔刷的**颜色绘制|通道**选择**红**

          <img src="AssetMarkdown/image-20220819175900891.png" alt="image-20220819175900891" style="zoom:80%;" />

     2.   由于**A**通道对应的值为**0**，因此只有将笔刷的绘制颜色设置为**黑色**，才能绘制成功

     <img src="AssetMarkdown/image-20220819180356334.png" alt="image-20220819180356334" style="zoom:80%;" />

### 22.3	三种颜色的顶点绘制

1.   将wall_01和wall_02的混合结果，再与wall_03混合
     1.   第一次混合用R通道控制
     2.   第二次混合用G通道控制

<img src="AssetMarkdown/image-20220819181019958.png" alt="image-20220819181019958" style="zoom:80%;" />

### 22.4	同时混合基础颜色、法线、粗糙度

1.   将**22.3**里面的结构复制两份，贴图分别改成法线贴图、粗糙度贴图即可

<img src="AssetMarkdown/image-20220819182027572.png" alt="image-20220819182027572" style="zoom:80%;" />

### 22.5	观察绘制的结果

1.   在**绘制|可视化|颜色视图模式**中，选择**RGB通道**，可以观察自己绘制的结果

     <img src="AssetMarkdown/image-20220819182452255.png" alt="image-20220819182452255" style="zoom:80%;" />

## 课时23	雪的覆盖生成

原理：根据顶点法线的Z轴值，判断是积雪区(山上)还是非积雪区(山下)

### 23.1	根据法线判断显示哪种颜色

1.   首先，要使用Lerp节点，将两种颜色(雪的颜色&山的颜色)混合

     1.   **白色**对应山的上面，要显示雪的颜色，因此与**B通道**相连
     2.   **黑色**对应山的下面，要显示山的颜色，因此与**A通道**相连
     3.   **Alpha通道**则是根据法线点乘计算出来的结果

2.   根据法线判断是山的上面还是下面

     1.   首先，要通过点乘计算**Dot**，来判断当前位置是处于山的那个地方

     2.   具体方法是，将当前点的法线方向与**(0,0,1)**进行点乘

          1.   **VertexNormalWS**：材质表达式顶点法线WS，作用是获取顶点的法线方向
          2.   与**(0,0,1)**进行点乘，可以得到Z轴方向的坐标

          <img src="AssetMarkdown/image-20220820124653381.png" alt="image-20220820124653381" style="zoom:80%;" />

     3.   将结果直接连在**Alpha**通道上

     <img src="AssetMarkdown/image-20220820125012875.png" alt="image-20220820125012875" style="zoom:80%;" />

### 23.2	修改雪的占比

1.   可以通过将**Dot**后的结果减去**subtract**一个数，从而修改雪的高度

     <img src="AssetMarkdown/image-20220820130603528.png" alt="image-20220820130603528" style="zoom:80%;" />

### 23.3	增加雪的对比度

1.   通过**CheapContract**节点，将上一步计算出来的结果，再增加一个对比度，然后连接到**Alpha通道**

     <img src="AssetMarkdown/image-20220820130728169.png" alt="image-20220820130728169" style="zoom:80%;" />

### 23.4	将基础颜色改为贴图

<img src="AssetMarkdown/image-20220820133504093.png" alt="image-20220820133504093" style="zoom:80%;" />

<img src="AssetMarkdown/image-20220820133304886.png" alt="image-20220820133304886" style="zoom:80%;" />

## 课时24	材质实例

### 24.1	创建材质实例

1.   **右击材质|创建材质实例**

### 24.2	参数的细节

1.   在参数的**细节|材质表达式**中，可以对参数添加描述、分组、排序优先级

     1.   排序优先级越小，越在前面

     <img src="AssetMarkdown/image-20220820210824479.png" alt="image-20220820210824479" style="zoom:80%;" />

## 课时25	动态植被

### 25.1	创建遮罩材质

1.   创建材质**M_Snow**，导入Albedo、Normal、Opacity、Roughness贴图
2.   将**材质|混合模式**，设置为**已遮罩**
3.   然后将不透明度贴图**Opacity**连接到**不透明蒙版**处
4.   然后将材质设置为**双面**

### 25.2	让植被动起来

1.   添加**SampleGrassWind**节点

     1.   **Wind Intensity**：风的强度
     2.   **Wind Weight**：风的权重，表示当前点受风的影响的程度
     3.   **Wind Speed**：风的速度
     4.   **Addictional WPO**：坐标
     5.   **Result**：与**全局位置偏移**相连

     <img src="AssetMarkdown/image-20220820214353592.png" alt="image-20220820214353592" style="zoom: 80%;" />

2.   将**Wind Intensity**、**Wind Speed**、**Addictional WPO**提升为参数，分别为

     1.   **风的强度**，与Wind Intensity相连
     2.   **风的速度**，与Wind Speed相连
     3.   **Addictional WPO**

3.   将**Wind Weight**与**Vexter Color**的R通道相连，便于后续设置风在不同位置的权重

4.   将**Result**得出的结果与一个参数相乘，然后将其结果与**全局位置偏移**相连，达到开关的效果

     1.   该参数即为**风的开关**

![image-20220820214954676](AssetMarkdown/image-20220820214954676.png)

### 25.3	修改风在不同地方的权重

1.   由于在上述过程中，**风的权重**与**Vertex Color**的R通道相连

2.   因此，我们只需要进入**网格体绘制模式**，选择**红通道**，将画笔的颜色设置为**黑色**，即可让不需要被风吹的地方停止移动

     <img src="AssetMarkdown/image-20220820215513098.png" alt="image-20220820215513098" style="zoom:80%;" />

## 课时26	Decals贴花材质制作

贴花材质本质上是一个透明的材质球

### 26.1	创建贴花材质

1.   创建材质**M_Decal**，导入Albedo、Normal、Opacity、Roughness贴图

     1.   将Roughness贴图的**sRGB**取消勾选
     2.   将Normal贴图的**翻转绿通道**勾选

2.   在**材质|材质域**中，设置为**延迟贴花**，**材质|混合模式**设置为**半透明**

     <img src="AssetMarkdown/image-20220820220914823.png" alt="image-20220820220914823" style="zoom:80%;" />

3.   将贴图与对应位置相连

     <img src="AssetMarkdown/image-20220820221742949.png" alt="image-20220820221742949" style="zoom:80%;" />

### 26.2	创建水渍

1.   创建材质**M_Water**，导入Normal、Opacity贴图

     1.   两个贴图用于确定水渍的形状

2.   在**材质|材质域**中，设置为**延迟贴花**，**材质|混合模式**设置为**半透明**

3.   将贴图与对应位置相连

     1.   将**颜色**、**金属度**、**高光度**、**粗糙度**提升为参数
     2.   将Opacity贴图与**不透明度**参数相乘，用于控制水的不透明度

     <img src="AssetMarkdown/image-20220820222423391.png" alt="image-20220820222423391" style="zoom:80%;" />

### 26.3	贴花材质之间的层级关系

1.   在**细节|贴画|排序顺序**中，修改贴花的层级关系

     1.   数字越大，越靠上

     ![image-20220820223001751](AssetMarkdown/image-20220820223001751.png)

### 26.4	贴花的影响范围

1.   直接将贴花进行缩放，**绿框的范围**即为影响范围

# 第七章	UE5资源迁移

## 课时27	UE5资源文件迁移
